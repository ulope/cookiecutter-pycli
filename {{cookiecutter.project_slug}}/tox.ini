[tox]
mintoxversion = 2.0
envlist = covclean,check_readme,flake8,py34,py35,py36,coverage


[testenv]
passenv = LANG TERM LANGUAGE LC_ALL
deps =
    coverage==4.0.3
    pytest==2.9.1
    pytest-sugar==0.7.1

commands =
    coverage run --include="*/site-packages/{{ cookiecutter.project_slug }}/*" --parallel --branch --m py.test {posargs}

[testenv:check_readme]
skip_install = true
deps = 
    readme_renderer
commands = 
    python setup.py check --restructuredtext --strict

[testenv:flake8]
basepython = python3.4
skip_install = True
deps =
    flake8==2.5.4
    flake8_tuple==0.2.8
commands = flake8 src/{{ cookiecutter.project_slug }}

[testenv:covclean]
basepython = python3.4
skip_install = True
deps = coverage==4.0.3
commands =
    coverage erase

[testenv:coverage]
basepython = python3.4
skip_install = True
deps = coverage==4.0.3
commands =
    coverage combine
    coverage report


[flake8]
max-line-length = 120
max-complexity = 12
